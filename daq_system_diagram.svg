<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .sensor-box { fill: #e1f5fe; stroke: #01579b; stroke-width: 2; }
      .interface-box { fill: #f3e5f5; stroke: #4a148c; stroke-width: 2; }
      .daq-box { fill: #e8f5e8; stroke: #1b5e20; stroke-width: 2; }
      .server-box { fill: #fff3e0; stroke: #e65100; stroke-width: 2; }
      .storage-box { fill: #fce4ec; stroke: #880e4f; stroke-width: 2; }
      .power-box { fill: #ffebee; stroke: #c62828; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" class="title">Integrated Track Monitoring System - DAQ Architecture</text>
  
  <!-- Sensors Section -->
  <rect x="50" y="80" width="200" height="40" class="sensor-box" rx="5"/>
  <text x="150" y="105" class="text">Axle Encoder</text>
  
  <rect x="50" y="140" width="200" height="40" class="sensor-box" rx="5"/>
  <text x="150" y="165" class="text">IMU (Accel + Gyro)</text>
  
  <rect x="50" y="200" width="200" height="40" class="sensor-box" rx="5"/>
  <text x="150" y="225" class="text">Camera(s)</text>
  
  <rect x="50" y="260" width="200" height="40" class="sensor-box" rx="5"/>
  <text x="150" y="285" class="text">Laser/Profilometer</text>
  
  <!-- Interface Section -->
  <rect x="300" y="80" width="180" height="40" class="interface-box" rx="5"/>
  <text x="390" y="105" class="text">Quadrature Decoder</text>
  
  <rect x="300" y="140" width="180" height="40" class="interface-box" rx="5"/>
  <text x="390" y="165" class="text">I2C/SPI Interface</text>
  
  <rect x="300" y="200" width="180" height="40" class="interface-box" rx="5"/>
  <text x="390" y="225" class="text">Camera Trigger</text>
  
  <rect x="300" y="260" width="180" height="40" class="interface-box" rx="5"/>
  <text x="390" y="285" class="text">Laser Interface</text>
  
  <!-- DAQ/Processing Section -->
  <rect x="530" y="100" width="200" height="120" class="daq-box" rx="5"/>
  <text x="630" y="125" class="text">Raspberry Pi Pico</text>
  <text x="630" y="145" class="text">(Prototype)</text>
  <text x="630" y="165" class="text">or</text>
  <text x="630" y="185" class="text">FPGA/DAQ Board</text>
  <text x="630" y="205" class="text">(Production)</text>
  
  <!-- Onboard Server -->
  <rect x="780" y="100" width="200" height="120" class="server-box" rx="5"/>
  <text x="880" y="125" class="text">Raspberry Pi 4</text>
  <text x="880" y="145" class="text">or Jetson Nano</text>
  <text x="880" y="165" class="text">(Prototype)</text>
  <text x="880" y="185" class="text">or</text>
  <text x="880" y="205" class="text">Onboard Server</text>
  
  <!-- Storage -->
  <rect x="1030" y="100" width="120" height="120" class="storage-box" rx="5"/>
  <text x="1090" y="125" class="text">SSD Storage</text>
  <text x="1090" y="145" class="text">Local Database</text>
  <text x="1090" y="165" class="text">Data Logging</text>
  <text x="1090" y="185" class="text">Backup</text>
  
  <!-- Power Supply -->
  <rect x="50" y="400" width="200" height="60" class="power-box" rx="5"/>
  <text x="150" y="425" class="text">Power Supply</text>
  <text x="150" y="445" class="text">24V → 5V/3.3V</text>
  
  <!-- Data Flow Arrows -->
  <line x1="250" y1="100" x2="300" y2="100" class="arrow"/>
  <line x1="250" y1="160" x2="300" y2="160" class="arrow"/>
  <line x1="250" y1="220" x2="300" y2="220" class="arrow"/>
  <line x1="250" y1="280" x2="300" y2="280" class="arrow"/>
  
  <line x1="480" y1="120" x2="530" y2="120" class="arrow"/>
  <line x1="480" y1="160" x2="530" y2="160" class="arrow"/>
  <line x1="480" y1="200" x2="530" y2="200" class="arrow"/>
  <line x1="480" y1="240" x2="530" y2="240" class="arrow"/>
  
  <line x1="730" y1="160" x2="780" y2="160" class="arrow"/>
  
  <line x1="980" y1="160" x2="1030" y2="160" class="arrow"/>
  
  <!-- Power Distribution -->
  <line x1="150" y1="460" x2="150" y2="400" class="arrow"/>
  <line x1="150" y1="460" x2="630" y2="460" class="arrow"/>
  <line x1="150" y1="460" x2="880" y2="460" class="arrow"/>
  <line x1="150" y1="460" x2="1090" y2="460" class="arrow"/>
  
  <!-- Communication Labels -->
  <text x="415" y="90" class="text" style="font-size: 10px;">Quadrature</text>
  <text x="415" y="150" class="text" style="font-size: 10px;">I2C/SPI</text>
  <text x="415" y="210" class="text" style="font-size: 10px;">Trigger Pulse</text>
  <text x="415" y="270" class="text" style="font-size: 10px;">Serial/USB</text>
  
  <text x="655" y="90" class="text" style="font-size: 10px;">UART/USB/WiFi</text>
  <text x="805" y="90" class="text" style="font-size: 10px;">Ethernet/USB</text>
  <text x="1005" y="90" class="text" style="font-size: 10px;">SATA/USB</text>
  
  <!-- Performance Specifications -->
  <rect x="50" y="500" width="1100" height="120" fill="#f5f5f5" stroke="#666" stroke-width="1" rx="5"/>
  <text x="600" y="525" class="title">System Specifications</text>
  
  <text x="150" y="550" class="text">• Train Speed: Up to 200 km/h</text>
  <text x="150" y="570" class="text">• Encoder Resolution: 1000-4000 PPR</text>
  <text x="150" y="590" class="text">• IMU Sample Rate: 1 kHz</text>
  <text x="150" y="610" class="text">• Camera Sync: Encoder-based trigger</text>
  
  <text x="600" y="550" class="text">• Data Rate: ~10-50 MB/s</text>
  <text x="600" y="570" class="text">• Storage: 1TB+ SSD</text>
  <text x="600" y="590" class="text">• Power: 24V DC input</text>
  <text x="600" y="610" class="text">• Operating Temp: -40°C to +85°C</text>
  
  <!-- Prototype vs Production -->
  <rect x="50" y="650" width="1100" height="120" fill="#e8f5e8" stroke="#2e7d32" stroke-width="2" rx="5"/>
  <text x="600" y="675" class="title">Prototype vs Production Architecture</text>
  
  <text x="150" y="700" class="text">Prototype: Pico → Pi4/Jetson → Local Storage</text>
  <text x="150" y="720" class="text">Production: FPGA → Onboard Server → Enterprise Storage</text>
  <text x="150" y="740" class="text">Scalability: Modular design allows easy component upgrades</text>
  <text x="150" y="760" class="text">Redundancy: Dual power supplies, backup storage, failover systems</text>
</svg>
